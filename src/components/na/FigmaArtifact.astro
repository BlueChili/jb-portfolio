---
import type { ImageMetadata } from 'astro';
import { Image } from 'astro:assets';
import defaultImageSizes from 'src/utils/defaultImageSizes';

interface Props {
        class?: string;
        url: string | null;
        heading?: string;
        image: ImageMetadata;
        variant?: 'dark';
}
---

<div class='pb-5'>
        {
                Astro.props.url ? (
                        <a
                                href={Astro.props.url}
                                target='_blank'>
                                <Image
                                        src={Astro.props.image}
                                        {...defaultImageSizes(Astro.props.image)}
                                        alt=''
                                        class='rounded-xl mb-1 w-full h-auto aspect-video laptop:rounded-2xl'
                                />
                        </a>
                ) : (
                        <Image
                                src={Astro.props.image}
                                {...defaultImageSizes(Astro.props.image)}
                                alt=''
                                class='rounded-xl mb-1 w-full h-auto aspect-video laptop:rounded-2xl'
                        />
                )
        }
        <div class='p-2 md:p-4 lg:pt-8'>
                {
                        Astro.props.heading ? (
                                <h3
                                        class='font-normal lg:pb-1'
                                        class:list={[Astro.props?.variant === 'dark' ? 'text-brand-grey' : 'text-black']}>
                                        {Astro.props.heading}
                                </h3>
                        ) : null
                }
                <p class:list={[Astro.props?.variant === 'dark' ? 'text-white' : 'text-brand-grey']}><slot /></p>
        </div>
</div>
